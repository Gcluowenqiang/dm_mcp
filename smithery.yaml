runtime: "container"

# Docker build configuration
build:
  dockerfile: "Dockerfile"
  dockerBuildPath: "."

# Session configuration - User will be prompted to fill these when connecting
startCommand:
  type: "http"
  configSchema:
    type: "object"
    required: ["dameng_host", "dameng_username", "dameng_password"]
    properties:
      dameng_host:
        type: "string"
        title: "Dameng Database Host"
        description: "Hostname or IP address of the Dameng database server"
      dameng_port:
        type: "integer"
        title: "Database Port"
        description: "Dameng database port number"
        default: 5236
        minimum: 1
        maximum: 65535
      dameng_username:
        type: "string"
        title: "Database Username"
        description: "Username for connecting to the Dameng database"
      dameng_password:
        type: "string"
        title: "Database Password"
        description: "Password for connecting to the Dameng database"
      dameng_database:
        type: "string"
        title: "Database Name"
        description: "Name of the database to connect to"
        default: "DAMENG"
      security_mode:
        type: "string"
        title: "Security Mode"
        description: "Controls database operation permission level"
        enum: ["readonly", "limited_write", "full_access"]
        default: "readonly"
      allowed_schemas:
        type: "string"
        title: "Allowed Schemas"
        description: "List of database schemas to allow access (comma-separated, or '*' for all)"
        default: "*"
      max_result_rows:
        type: "integer"
        title: "Max Result Rows"
        description: "Maximum number of rows to return in query results"
        default: 1000
        minimum: 1
        maximum: 10000
  exampleConfig:
    dameng_host: "localhost"
    dameng_port: 5236
    dameng_username: "SYSDBA"
    dameng_password: "your_password"
    dameng_database: "DAMENG"
    security_mode: "readonly"
    allowed_schemas: "*"
    max_result_rows: 1000
